source("~/Documents/Github/Causal-Inference/causal.R")
causal_est
sim1_rbvs1$MCMC
ncol(sim1_rbvs1$MCMC[[1]])
ncol(as.matrix(sim1_rbvs1$MCMC[[1]]))
Causal_exp = matrix(unlist(lapply(sim1_rbvs1$Causal_post, function(x)colMeans(as.matrix(x)))), nrow = 2, byrow = T)
Causal_exp
causal_est = c()
for (i in 1:2) {
y_new = y1 - x[,active] %*% beta_dss[i,]
T_new = a1 - (pnorm(x[,active] %*% gamma_dss[i,]))
causal_est = rbind(causal_est, round(t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
causal_est
causal_est = c()
for (i in 1:2) {
y_new = y1 - x[,active] %*% beta_dss[i,]
T_new = a1 - round(pnorm(x[,active] %*% gamma_dss[i,]))
causal_est = rbind(causal_est, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
causal_est
causal_est = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - round(pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_est = rbind(causal_est, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
causal_est
source("~/Documents/Github/Causal-Inference/causal.R")
Causal_exp
causal_est
causal_est = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - (pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_est = rbind(causal_est, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_est
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,] - a1 * Causal_exp[i]
T_new = a1 - (pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_est = Causal_exp + causal_corr
causal_est
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,] - a1 * Causal_exp[i]
T_new = a1 - (pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,])) > 0.5
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_est = Causal_exp + causal_corr
causal_est
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - (pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,])) > 0.5
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_corr
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
Causal_exp
causal_corr
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - (pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_corr
source("~/Documents/Github/Causal-Inference/causal.R")
Causal_exp
causal_corr
causal_corr = c()
for (i in 1:2) {
y_new = y1 - x[,active] %*% beta_dss[i,]
T_new = a1 - (pnorm(x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_corr
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - round(pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_corr
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - round(pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
Causal_exp
causal_corr
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
#  T_new = a1 - round(pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(a1)%*%a1)^(-1)%*%t(a1)%*%y_new)
}
Causal_exp
causal_corr
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
Causal_exp
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
source("~/Documents/Github/Causal-Inference/causal.R")
Causal_exp
causal_corr = c()
for (i in 1:2) {
y_new = y1 - beta0_exp[i] - x[,active] %*% beta_dss[i,]
T_new = a1 - round(pnorm(gamma_exp[i] + x[,active] %*% gamma_dss[i,]))
causal_corr = rbind(causal_corr, (t(T_new)%*%T_new)^(-1)%*%t(T_new)%*%y_new)
}
causal_corr
